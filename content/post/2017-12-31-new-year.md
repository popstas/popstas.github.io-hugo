+++
title = "Итоги 2017 года"
date = "2017-12-31T01:30:00+06:00"
slug = "new-year-2018"
Tags = ["offtop", "итоги года"]
+++

Решил зафиксировать уходящий год и вспомнить, что было. Давно хотелось иметь такую шпаргалку, чтобы вспоминать, в каком же году это было. К счастью, в этом году перед долгой новогодней ночью нам достались выходные, использую их для этой записи.


<img itemprop="image" src="/images/2017-12/new-year.jpg" />

<!--more-->

## Технические итоги

### Ansible
Ansible спустя 2 года наконец покрыл все боевые сервера и на 80% покрыл dev-машинки. Появилось чувство контроля, которого не было до этого. Открылись новые возможности: теперь сервер с десятком сайтов перевезти на другой сервер/хостинг - дело пары часов.

Благодаря open source удалось сделать это относительно быстро, половину я форкнул, половину написал сам и по мотивам других ролей. Хотя только на разработку дерева ролей потрачено около 350 часов, не считая переноса сайтов и пересоздание серверов, думаю это того стоило. Теперь добавить новую роль в ansible-server занимает от 10 минут до часа, если роль подходящая.

Также я рад, что получился проект не для одного человека, а для команды: коллега научился пользоваться ansible-server на уровне пользователя, но догадывается, где что лежит даже если понадобится править роли.

В тестах полностью перешли на Molecule 2, что тоже радует.



### Хостинг
Если до этого года у нас 90% сайтов было на одном выделенном сервере, в этом году Ansible позволил мигрировать полностью на виртуальные машины. Счастья не наступило: избавившись от проблем с железом, мы получили проблемы с соседями по гипервизору. Поэтому мы освоили VMWare ESXi, взяли дедик и половину сайтов перевезли на собственные виртуалки.



### Docker
Докером мы пользуемся как дилетанты, поэтому на продакшене докера практически нет, но в одном месте все же есть: Solr для сайтов поднимается в Docker контейнере, это нас уже выручало пару раз: при необходимости поднять еще один Solr или перенести его на другой сервер не составляет проблем.



### Мониторинг
Мы остались на TICK стеке, но довели его до ума: метрики теперь позволяют находить и устранять некоторые проблемы еще до того, как они выстрелят. Стало приходить меньше ложных алертов, а в случае, когда что-то начинает влиять на работу сайтов, алерты теперь приходят в 95% случаев.



### HTTPS
Как в свое время адаптивная верстка, https у нас отсутствовал до последнего. В этом году браузеры начали агрессивно вести себя по отношению к сайтам с формами авторизации, тянуть дальше уже стало некуда, и мы освоили Let's Encrypt и начали переводить сайты на https, оказалось не так уж и сложно.



### Drupal
Под конец года, буквально в последнюю нелелю мы начали осваивать Drupal 8 и уже успели перейти от состояния "нафига так сложно", "почему тут ни хрена нет" к началу понимания зачем и осознавания плюсов. Конечно, за неделю мы не нашли аналогий всему, к чему пришли на Drupal 7 за 5 лет, я думаю, что переход удастся довольно быстро, а с учетом того, что мы уже знаем о друпале, должно получиться лучше, чем было. В этом плане отсутствие обратной совместимости нам даже на руку.



## Языки
В этом году попрограммировал на Lua под ESP8266. Создал первый pypi пакет на Python. Вообще Python понемногу заменяет мне Bash, хотя медленнее, чем хотелось бы.



### Микроконтроллеры
В этом году на замену Arduino для меня пришел ESP8266



### Операционки
На продакшене почти удалось избавиться от зоопарка операционок, если раньше на 5 сервера было 2 операционки, одна из которых Debian 6, устаревший на несколько лет, то теперь на 7 из 9 серверов стоит одна и та же Ubuntu 16.04, а на 2 Ubuntu 14.04, и я точно знаю, что в следующем году эти 2 сервера отомрут или будут обновлены.

Дома, посидев 1.5 года на Hackintosh, я вернулся на Windows 10, намучившись с внезапными слетаниями системы и проблем с драйверами. Недостающее заменил на vagrant и перенес часть разработки на домашний сервер с Ubuntu.



### Github
Этот год был самым активным в плане open source, было больше всего: репозиториев, коммитов, issues, входящих и исходящих PR, звездочек.



---



## Про жизнь

### Жилье
Прямо с первых чисел января я наконец переехал в свою квартиру и стал жить один. Оказалось, что бытовые дела отнимают намного меньше времени, чем я думал.



### Музыка
Открыл для себя много новых исполнителей: Alai Oli, Павел Кашин, Типси тип (спасибо передаче "Соль"), Екатерина Яшникова, Estas Tonne, Мария Чайковская, Гуша Катушкин, Atlantida Project.

Сам я тоже многое попробовал: поиграть на гитарной педали с лупером, позаписывать себя в аудиоредакторе, поиграть на пианино, поиграть на шейкерах (яйцо и бубен). Получается не очень, но я и не расчитывал на высокие результаты, зато интересно и по сравнению с прошлыми годами прогресс есть.

В игре на гитаре тоже стало еще немного получше, буквально пару фишек добавилось, но использовать их можно много где.

Сам себя на телефон я записывал уже года 3, в этом году решил попробовать по-серьезному: взял внешнюю звуковуху и конденсаторный микрофон с фантомным питанием, переделал свою гитару в полуакустику. Это позволило писать голос и гитару по разным каналам и записывать в аудиоредакторе несколько дорожек с разными инструментами. После этого быстро захотелось клавиши, чтобы писать барабаны, в итоге взял б/у-шную Yamaha на 61 клавишу, ударные я так и не записал толком ни разу, но зато начал пробовать записывать клавишные.

Теперь, благодаря этому, появилась какая-никакая обработка песен и стало не стыдно даже выложить для тех, кому интересно - [Мой плейлист с mp3](https://vk.com/audios4288271?section=playlists&z=audio_playlist4288271_1).


### Кино
Фильмов я смотрел много, ничего значительного вроде не было, запомнилось: Твое имя, Еще один год.

Новые для меня сериалы: Фарго, Твин Пикс, Хороший доктор, Детство Шелодна, Очень странные дела, Рик и Морти, Ппадающая Вода.



### Книги
Я почти перестал читать книги, причем даже не в этом году. Художественная литература достается мне в виде редких аудиокниг, т.к. подкасты их вытесняют.

В этом году я послушал IPhuck X Пелевина, этакое русское "Черное зеркало", больше ничего не помню.



### Гаджеты, железо
Приобрел 4к телек для использования в качестве второго монитора. Доволен, проблем с местом на экранах больше нет, жалею только, что не взял изогнутый, на 43 дюйма не получается нормально смотреть на расстоянии вытянутой руки.

Вообще довел домашний комп до идеала, впервые мне больше не хочется ничего апгрейдить, всего хватает.

Смартфон тоже стал с безлимитным процессором, оперативкой и хранилищем.

Для музыки было куплено много всего, так как кроме гитары у меня раньше ничего не было.

Начал использовать "умный дом": розетки с выключением через инет, с измерением мощности, светодиодная лента с управлением каждым пикселем с телефона.



### Походы
Этот год был самым походным, точнее, сплавным. Все сплавы были трехдневными.

Первый сплав был в мае, от Ёквы до Ослянки. Мы поплыли дикарями на трех лодках. С погодой нам повезло, хотя куртки сняли только на третий день, дождя практически не было. В первый день погода менялась буквально за каждым изгибом реки: солнце, тучи, ветер, снег. В первый вечер доплыли до какого-то сруба наподобие бани, там и заночевали. На второй день плыли долго, надо было доплыть до Кына. Остановились на площадке, где проводят какой-то фестиваль вроде Антоновского. Когда ложились спать, была весна, когда я проснулся, на мне лежал сугроб поверх провалившейся палатки )

Второй сплав плавали со Штурмом от Усть-Утки до Ёквы, был июль, успели покупаться.

На третий сплав мы поехали на Ай. В этой поездке было как минимум три интересных момента: дорога туда, сплав по новой реке и дорога обратно. Туда мы добирались в общей сложности часов 18, ломались машины, раза 4 за 450 км. На сплаве понравилась тишина на катамаране днем, баня вечером и концерт на джембе ночью. Обратно мы ехали где-то сутки, снова со сломанными машинами и ночлегом в Златоусте.



### Концерты
В этом году я сходил на Линду, Екатерину Яшникову, Гушу Катушкина, Контрабанду, побывал в очередной раз в Антоновске.



### В этом году я в первый раз:
- программировал на Lua
- получил pull request в мой репозиторий
- начал пользоваться youtube каналами
- воспользовался криптовалютой
- начал жить отдельно от родителей
- ни разу не мучался от зубной боли
- приготовил что-то сложнее рожек (это был плов в мультиварке)
- побывал на онлайн концерте
- начал играть на пианино
- выступал перед незнакомыми людьми
- попробовал записывать музыку
- уснул на корточках
- ушел в сонный запой (38 часов за 2 дня)

### В этом году я больше, чем в прошлые годы:
- сделал pull requests (17 раз, не считая самому себе)
- ел рожки и гречку (не меньше 300 раз)
- подтягивался (3-4 месяца)
- ездил на сплавы (3 раза)
- пробыл в дороге (сплавы, лыжи на Губахе)
- ходил на концерты (4-5 раз, не считая онлайн)
- ночевал в машинах (2 раза)
- ночевал не дома (раз 30)
- катался на коньках (раз 10)
- спорил с коллегами на работе



### Что стало хуже
Забросил Go, Javascript, хотя хотел развивать их в этом году, Ansible съел их время.

Еще один год, когда я так и не сдал на права.

Стал больше сидеть вконтакте.

В плане спорта я сдал: катание на велике и на лыжах уменьшилось раз в 10.

Старею: зрение садится, спина начинает болеть.

Бросил пользоваться Pocket, теперь пирамида сократилась до RSS - браузер, из-за чего стал читать больше фигни, которая осела бы в Pocket навсегда.

Имхонет закрыли.
